# ============================================
# PhoneAgent 配置文件模板
# ============================================
# 
# 使用方法:
# 1. 复制此文件为 .env
#    cp env.example .env
# 
# 2. 根据您的使用场景选择配置方式：
#    - 使用智谱AI官方服务 → 填写 ZHIPU_API_KEY
#    - 使用自托管模型     → 设置 MODEL_PROVIDER=local
#    - 使用其他AI平台     → 设置 MODEL_PROVIDER + CUSTOM_API_KEY
# 
# 3. 重启服务生效
# ============================================


# ╔═══════════════════════════════════════════════════════════════╗
# ║                    场景 1: 智谱AI官方服务（推荐）               ║
# ╚═══════════════════════════════════════════════════════════════╝
# 
# 适用于：快速上手，无需部署模型
# 

# 智谱 AI API Key（必需）⭐
# 获取地址: https://open.bigmodel.cn/
ZHIPU_API_KEY=

# 语音识别专用 API Key（可选，留空则使用 ZHIPU_API_KEY）
ZHIPU_SPEECH_API_KEY=


# ╔═══════════════════════════════════════════════════════════════╗
# ║                    场景 2: 自托管本地模型                       ║
# ╚═══════════════════════════════════════════════════════════════╝
# 
# 适用于：部署 AutoGLM-Phone-9B 或其他兼容模型
# 参考: SELF_HOSTED_MODEL.md
# 
# 取消下方注释并按需修改：
# 
# MODEL_PROVIDER=local
# CUSTOM_BASE_URL=http://127.0.0.1:6002/v1
# CUSTOM_API_KEY=EMPTY
# CUSTOM_MODEL_NAME=autoglm-phone-9b


# ╔═══════════════════════════════════════════════════════════════╗
# ║                    场景 3: 其他AI平台                          ║
# ╚═══════════════════════════════════════════════════════════════╝
# 
# 支持平台: openai, gemini, qwen
# 
# === OpenAI ===
# MODEL_PROVIDER=openai
# CUSTOM_API_KEY=sk-proj-xxxxx
# CUSTOM_MODEL_NAME=gpt-4o
# 
# === Google Gemini ===
# MODEL_PROVIDER=gemini
# CUSTOM_API_KEY=AIzaSyXXXXXXXXXXXXXXXXXXXXXXXXXX
# CUSTOM_MODEL_NAME=gemini-2.0-flash
# 
# === 通义千问 ===
# MODEL_PROVIDER=qwen
# CUSTOM_API_KEY=sk-xxxxx
# CUSTOM_MODEL_NAME=qwen-vl-plus
#
# === 自定义 OpenAI 兼容 API ===
# （使用 openai 提供商 + 自定义端点）
# MODEL_PROVIDER=openai
# CUSTOM_BASE_URL=https://your-api.com/v1
# CUSTOM_API_KEY=your-api-key
# CUSTOM_MODEL_NAME=your-model-name


# ============================================
# 模型提供商配置（通用设置）
# ============================================

# 模型提供商（默认: zhipu）
# 可选: zhipu, openai, gemini, qwen, local
MODEL_PROVIDER=zhipu

# 自定义 API 端点（可选，覆盖默认值）
# 默认端点:
#   - zhipu:  https://open.bigmodel.cn/api/paas/v4/
#   - openai: https://api.openai.com/v1
#   - gemini: https://generativelanguage.googleapis.com/v1beta/openai
#   - qwen:   https://dashscope.aliyuncs.com/compatible-mode/v1
# CUSTOM_BASE_URL=

# 自定义 API Key（优先级高于 ZHIPU_API_KEY）
# CUSTOM_API_KEY=

# 自定义模型名称（可选）
# 不设置则使用智能选择器根据任务自动选择
# CUSTOM_MODEL_NAME=


# ============================================
# 语音识别配置（ASR）
# ============================================
# 
# PhoneAgent 支持多种语音识别方案：
# 
# 方案1: 智谱AI（默认）
#   - 使用 ZHIPU_API_KEY 或 ZHIPU_SPEECH_API_KEY
#   - 支持中文、英文等多语言
#
# 方案2: 自定义ASR服务（高级）
#   - 设置 CUSTOM_ASR_ENABLED=true
#   - 配置 CUSTOM_ASR_BASE_URL 和 CUSTOM_ASR_API_KEY
#   - 需要兼容 OpenAI Whisper API 格式

# 启用自定义ASR服务（默认: false）
# CUSTOM_ASR_ENABLED=false

# 自定义ASR API端点（需要兼容 OpenAI Whisper API）
# CUSTOM_ASR_BASE_URL=http://127.0.0.1:8080/v1

# 自定义ASR API Key
# CUSTOM_ASR_API_KEY=

# 自定义ASR模型名称（默认: whisper-1）
# CUSTOM_ASR_MODEL=whisper-1


# ============================================
# 高级模型配置
# ============================================

# 分别配置不同执行模式的模型
# VISION_KERNEL_MODEL=autoglm-phone       # 逐步执行模式
# PLANNING_KERNEL_MODEL=glm-4.6v-flash    # 智能规划模式

# 模型输出Token限制（默认：3000）
MAX_TOKENS=3000

# 模型温度参数（默认：0.7，取值0-1）
TEMPERATURE=0.7

# 最大执行步数（默认：100）
MAX_TASK_STEPS=100


# ============================================
# 服务器配置
# ============================================

# CORS 跨域配置（逗号分隔）
CORS_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# 服务器监听地址（默认：0.0.0.0）
SERVER_HOST=0.0.0.0

# FRP 服务器端口（默认：7000）
FRP_PORT=7000

# WebSocket 服务器端口（默认：9999）
WEBSOCKET_PORT=9999

# WebSocket 服务器地址（默认：127.0.0.1）
WEBSOCKET_HOST=127.0.0.1


# ============================================
# 前端开发配置
# ============================================

# 后端API服务器地址（本地开发：localhost）
VITE_API_HOST=localhost
VITE_API_PORT=8000
VITE_WS_PORT=9999


# ============================================
# 设备配置
# ============================================

# 最大设备数量（默认：100）
MAX_DEVICES=100

# 设备健康检查间隔（秒，默认：60）
HEALTH_CHECK_INTERVAL=60


# ============================================
# 日志配置
# ============================================

# 日志级别（DEBUG, INFO, WARNING, ERROR）
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=logs/phoneagent.log


# ============================================
# 高级配置（一般无需修改）
# ============================================

# ADB 超时时间（秒）
ADB_TIMEOUT=30

# 截图超时时间（秒）
SCREENSHOT_TIMEOUT=30

# 任务超时时间（秒）
TASK_TIMEOUT=300


# ============================================
# Scrcpy 实时预览配置
# ============================================
# 
# Scrcpy 用于提供低延迟的设备屏幕实时预览
# 

# Scrcpy Server 版本（需要与设备上安装的版本匹配）
# 默认: 3.3.3
# SCRCPY_SERVER_VERSION=3.3.3

# Scrcpy TCP 端口范围（用于 ADB 端口转发）
# 默认: 27183-27283
# SCRCPY_PORT_MIN=27183
# SCRCPY_PORT_MAX=27283

# NAL 缓冲区最大大小（字节，防止内存溢出）
# 默认: 8388608 (8MB)
# MAX_NAL_BUFFER_SIZE=8388608


# ============================================
# 快速开始指南
# ============================================
#
# 📝 场景选择:
#
# 1. 使用智谱AI官方服务（最简单）:
#    只需设置 ZHIPU_API_KEY
#
# 2. 使用自托管AutoGLM模型:
#    MODEL_PROVIDER=local
#    CUSTOM_BASE_URL=http://127.0.0.1:6002/v1
#    详见: SELF_HOSTED_MODEL.md
#
# 3. 使用OpenAI/Gemini等:
#    MODEL_PROVIDER=openai
#    CUSTOM_API_KEY=sk-xxx
#
# 🤖 模型说明:
#   - autoglm-phone: 官方Phone模型（免费，针对手机优化）
#   - glm-4.6v-flash: 最新Flash版（免费，通用）
#   - gpt-4o: OpenAI 旗舰模型（付费）
#   - gemini-2.0-flash: Google 快速模型（免费额度）
#
# ⚠️ 注意事项:
#   - 修改配置后需重启服务
#   - 日志文件: logs/phoneagent.log
#   - API文档: http://localhost:8000/api/docs
#
# ============================================
